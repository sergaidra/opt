<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="mngr">
    <typeAlias alias="hashMap" type="java.util.HashMap"/>
    <typeAlias alias="string" type="java.lang.String"/>

    <resultMap id="rmGoods" class="hashMap">
        <result property="GOODS_CODE"                    column="GOODS_CODE"                    jdbcType="string" javaType="string"/>
        <result property="GOODS_NM"                      column="GOODS_NM"                      jdbcType="string" javaType="string"/>
        <result property="GOODS_INTRCN"                  column="GOODS_INTRCN"                  jdbcType="CLOB"   javaType="string"/>
        <result property="DELETE_AT"                     column="DELETE_AT"                     jdbcType="string" javaType="string"/>
        <result property="USE_AT"                        column="USE_AT"                        jdbcType="string" javaType="string"/>
        <result property="FILE_CODE"                     column="FILE_CODE"                     jdbcType="string" javaType="string"/>
        <result property="WRITNG_ID"                     column="WRITNG_ID"                     jdbcType="string" javaType="string"/>
        <result property="WRITNG_DE"                     column="WRITNG_DE"                     jdbcType="string" javaType="string"/>
        <result property="UPDT_ID"                       column="UPDT_ID"                       jdbcType="string" javaType="string"/>
        <result property="UPDT_DE"                       column="UPDT_DE"                       jdbcType="string" javaType="string"/>
        <result property="UPPER_CL_CODE"                 column="UPPER_CL_CODE"                 jdbcType="string" javaType="string"/>
        <result property="CL_CODE"                       column="CL_CODE"                       jdbcType="string" javaType="string"/>
        <result property="CL_NM"                         column="CL_NM"                         jdbcType="string" javaType="string"/>
        <result property="NATION_CODE"                   column="NATION_CODE"                   jdbcType="string" javaType="string"/>
        <result property="CTY_CODE"                      column="CTY_CODE"                      jdbcType="string" javaType="string"/>
        <result property="CTY_NM"                        column="CTY_NM"                        jdbcType="string" javaType="string"/>
        <result property="WAIT_TIME"                     column="WAIT_TIME"                     jdbcType="string" javaType="string"/>
        <result property="MVMN_TIME"                     column="MVMN_TIME"                     jdbcType="string" javaType="string"/>
        <result property="ACT_LA"                        column="ACT_LA"                        jdbcType="string" javaType="string"/>
        <result property="ACT_LO"                        column="ACT_LO"                        jdbcType="string" javaType="string"/>
        <result property="VOCHR_TICKET_TY"               column="VOCHR_TICKET_TY"               jdbcType="string" javaType="string"/>
        <result property="VOCHR_NTSS_REQRE_TIME"         column="VOCHR_NTSS_REQRE_TIME"         jdbcType="string" javaType="string"/>
        <result property="VOCHR_USE_MTH"                 column="VOCHR_USE_MTH"                 jdbcType="string" javaType="string"/>
        <result property="GUIDANCE_USE_TIME"             column="GUIDANCE_USE_TIME"             jdbcType="string" javaType="string"/>
        <result property="GUIDANCE_REQRE_TIME"           column="GUIDANCE_REQRE_TIME"           jdbcType="string" javaType="string"/>
        <result property="GUIDANCE_AGE_DIV"              column="GUIDANCE_AGE_DIV"              jdbcType="string" javaType="string"/>
        <result property="GUIDANCE_TOUR_SCHDUL"          column="GUIDANCE_TOUR_SCHDUL"          jdbcType="string" javaType="string"/>
        <result property="GUIDANCE_PRFPLC_LC"            column="GUIDANCE_PRFPLC_LC"            jdbcType="string" javaType="string"/>
        <result property="GUIDANCE_EDC_CRSE"             column="GUIDANCE_EDC_CRSE"             jdbcType="string" javaType="string"/>
        <result property="GUIDANCE_OPTN_MATTER"          column="GUIDANCE_OPTN_MATTER"          jdbcType="string" javaType="string"/>
        <result property="GUIDANCE_PICKUP"               column="GUIDANCE_PICKUP"               jdbcType="string" javaType="string"/>
        <result property="GUIDANCE_PRPARETG"             column="GUIDANCE_PRPARETG"             jdbcType="string" javaType="string"/>
        <result property="GUIDANCE_INCLS_MATTER"         column="GUIDANCE_INCLS_MATTER"         jdbcType="string" javaType="string"/>
        <result property="GUIDANCE_NOT_INCLS_MATTER"     column="GUIDANCE_NOT_INCLS_MATTER"     jdbcType="string" javaType="string"/>
        <result property="ADIT_GUIDANCE"                 column="ADIT_GUIDANCE"                 jdbcType="string" javaType="string"/>
        <result property="ATENT_MATTER"                  column="ATENT_MATTER"                  jdbcType="string" javaType="string"/>
        <result property="CHANGE_REFND_REGLTN"           column="CHANGE_REFND_REGLTN"           jdbcType="string" javaType="string"/>
        <result property="INTRCN_GOODS_TY"               column="INTRCN_GOODS_TY"               jdbcType="string" javaType="string"/>
        <result property="INTRCN_USE_TIME"               column="INTRCN_USE_TIME"               jdbcType="string" javaType="string"/>
        <result property="INTRCN_MEET_TIME"              column="INTRCN_MEET_TIME"              jdbcType="string" javaType="string"/>
        <result property="INTRCN_REQRE_TIME"             column="INTRCN_REQRE_TIME"             jdbcType="string" javaType="string"/>
        <result property="INTRCN_PROVD_LANG"             column="INTRCN_PROVD_LANG"             jdbcType="string" javaType="string"/>
        <result property="INTRCN_POSBL_AGE"              column="INTRCN_POSBL_AGE"              jdbcType="string" javaType="string"/>
        <result property="INTRCN_PLACE"                  column="INTRCN_PLACE"                  jdbcType="string" javaType="string"/>
        <result property="CL_SE"                         column="CL_SE"                         jdbcType="string" javaType="string"/>
        <result property="SORT_ORDR"                     column="SORT_ORDR"                     jdbcType="string" javaType="string"/>
        <result property="MAIN_EXPSR_AT_1"               column="MAIN_EXPSR_AT_1"               jdbcType="string" javaType="string"/>
        <result property="MAIN_EXPSR_AT_2"               column="MAIN_EXPSR_AT_2"               jdbcType="string" javaType="string"/>
        <result property="CRUD_SE"                       column="CRUD_SE"                       jdbcType="string" javaType="string"/>
        <result property="GOODS_NM_ENG"                  column="GOODS_NM_ENG"                  jdbcType="string" javaType="string"/><!-- 영문 컬럼 -->
        <result property="GOODS_INTRCN_ENG"              column="GOODS_INTRCN_ENG"              jdbcType="CLOB"   javaType="string"/>
        <result property="VOCHR_NTSS_REQRE_TIME_ENG"     column="VOCHR_NTSS_REQRE_TIME_ENG"     jdbcType="string" javaType="string"/>
        <result property="VOCHR_USE_MTH_ENG"             column="VOCHR_USE_MTH_ENG"             jdbcType="string" javaType="string"/>
        <result property="GUIDANCE_USE_TIME_ENG"         column="GUIDANCE_USE_TIME_ENG"         jdbcType="string" javaType="string"/>
        <result property="GUIDANCE_REQRE_TIME_ENG"       column="GUIDANCE_REQRE_TIME_ENG"       jdbcType="string" javaType="string"/>
        <result property="GUIDANCE_AGE_DIV_ENG"          column="GUIDANCE_AGE_DIV_ENG"          jdbcType="string" javaType="string"/>
        <result property="GUIDANCE_TOUR_SCHDUL_ENG"      column="GUIDANCE_TOUR_SCHDUL_ENG"      jdbcType="string" javaType="string"/>
        <result property="GUIDANCE_PRFPLC_LC_ENG"        column="GUIDANCE_PRFPLC_LC_ENG"        jdbcType="string" javaType="string"/>
        <result property="GUIDANCE_EDC_CRSE_ENG"         column="GUIDANCE_EDC_CRSE_ENG"         jdbcType="string" javaType="string"/>
        <result property="GUIDANCE_OPTN_MATTER_ENG"      column="GUIDANCE_OPTN_MATTER_ENG"      jdbcType="string" javaType="string"/>
        <result property="GUIDANCE_PICKUP_ENG"           column="GUIDANCE_PICKUP_ENG"           jdbcType="string" javaType="string"/>
        <result property="GUIDANCE_PRPARETG_ENG"         column="GUIDANCE_PRPARETG_ENG"         jdbcType="string" javaType="string"/>
        <result property="GUIDANCE_INCLS_MATTER_ENG"     column="GUIDANCE_INCLS_MATTER_ENG"     jdbcType="string" javaType="string"/>
        <result property="GUIDANCE_NOT_INCLS_MATTER_ENG" column="GUIDANCE_NOT_INCLS_MATTER_ENG" jdbcType="string" javaType="string"/>
        <result property="ADIT_GUIDANCE_ENG"             column="ADIT_GUIDANCE_ENG"             jdbcType="string" javaType="string"/>
        <result property="ATENT_MATTER_ENG"              column="ATENT_MATTER_ENG"              jdbcType="string" javaType="string"/>
        <result property="CHANGE_REFND_REGLTN_ENG"       column="CHANGE_REFND_REGLTN_ENG"       jdbcType="string" javaType="string"/>
        <result property="INTRCN_USE_TIME_ENG"           column="INTRCN_USE_TIME_ENG"           jdbcType="string" javaType="string"/>
        <result property="INTRCN_MEET_TIME_ENG"          column="INTRCN_MEET_TIME_ENG"          jdbcType="string" javaType="string"/>
        <result property="INTRCN_REQRE_TIME_ENG"         column="INTRCN_REQRE_TIME_ENG"         jdbcType="string" javaType="string"/>
        <result property="INTRCN_PROVD_LANG_ENG"         column="INTRCN_PROVD_LANG_ENG"         jdbcType="string" javaType="string"/>
        <result property="INTRCN_POSBL_AGE_ENG"          column="INTRCN_POSBL_AGE_ENG"          jdbcType="string" javaType="string"/>
        <result property="INTRCN_PLACE_ENG"              column="INTRCN_PLACE_ENG"              jdbcType="string" javaType="string"/>
    </resultMap>

    <insert id="GoodsDAO.insertGoods" parameterClass="hashMap">
    <selectKey keyProperty="GOODS_CODE" resultClass="string">
        SELECT LPAD(SQ_GOODS_CODE.NEXTVAL, 10, '0') FROM DUAL
    </selectKey>
    <![CDATA[
    DECLARE
    BEGIN    
        INSERT INTO TB_GOODS( GOODS_CODE
                            , GOODS_NM
                            , GOODS_INTRCN
                            , CL_CODE
                            , CTY_CODE
                            , WAIT_TIME
                            , MVMN_TIME
                            , DELETE_AT
                            , ACT_LA
                            , ACT_LO
                            , WRITNG_ID
                            , WRITNG_DT
                            , FILE_CODE
                            , SORT_ORDR
                            , MAIN_EXPSR_AT_1
                            , MAIN_EXPSR_AT_2
                            , VOCHR_TICKET_TY
                            , VOCHR_NTSS_REQRE_TIME
                            , VOCHR_USE_MTH
                            , GUIDANCE_USE_TIME
                            , GUIDANCE_REQRE_TIME
                            , GUIDANCE_AGE_DIV
                            , GUIDANCE_TOUR_SCHDUL
                            , GUIDANCE_PRFPLC_LC
                            , GUIDANCE_EDC_CRSE
                            , GUIDANCE_OPTN_MATTER
                            , GUIDANCE_PICKUP
                            , GUIDANCE_PRPARETG
                            , GUIDANCE_INCLS_MATTER
                            , GUIDANCE_NOT_INCLS_MATTER
                            , ADIT_GUIDANCE
                            , ATENT_MATTER
                            , CHANGE_REFND_REGLTN
                            , INTRCN_GOODS_TY
                            , INTRCN_USE_TIME
                            , INTRCN_MEET_TIME
                            , INTRCN_REQRE_TIME
                            , INTRCN_PROVD_LANG
                            , INTRCN_POSBL_AGE
                            , INTRCN_PLACE )
                      VALUES( #GOODS_CODE#
                            , #GOODS_NM#
                            , #GOODS_INTRCN:CLOB#
                            , #CL_CODE#
                            , #CTY_CODE#
                            , #WAIT_HH#||#WAIT_MI#
                            , #MVMN_HH#||#MVMN_MI#
                            , 'N'
                            , #ACT_LA#
                            , #ACT_LO#
                            , #WRITNG_ID#
                            , SYSDATE
                            , #FILE_CODE#
                            , NVL(#SORT_ORDR#, (SELECT MAX(SORT_ORDR)+1 FROM TB_GOODS WHERE CL_CODE = #CL_CODE#))
                            , #MAIN_EXPSR_AT_1#
                            , #MAIN_EXPSR_AT_2#
                            , #VOCHR_TICKET_TY#
                            , #VOCHR_NTSS_REQRE_TIME#
                            , #VOCHR_USE_MTH#
                            , #GUIDANCE_USE_TIME#
                            , #GUIDANCE_REQRE_TIME#
                            , #GUIDANCE_AGE_DIV#
                            , #GUIDANCE_TOUR_SCHDUL#
                            , #GUIDANCE_PRFPLC_LC#
                            , #GUIDANCE_EDC_CRSE#
                            , #GUIDANCE_OPTN_MATTER#
                            , #GUIDANCE_PICKUP#
                            , #GUIDANCE_PRPARETG#
                            , #GUIDANCE_INCLS_MATTER#
                            , #GUIDANCE_NOT_INCLS_MATTER#
                            , #ADIT_GUIDANCE#
                            , #ATENT_MATTER#
                            , #CHANGE_REFND_REGLTN#
                            , #INTRCN_GOODS_TY#
                            , #INTRCN_USE_TIME#
                            , #INTRCN_MEET_TIME#
                            , #INTRCN_REQRE_TIME#
                            , #INTRCN_PROVD_LANG#
                            , #INTRCN_POSBL_AGE#
                            , #INTRCN_PLACE# );

		INSERT INTO TB_GOODS_ENG ( GOODS_NM_ENG
		                         , GOODS_INTRCN_ENG
		                         , VOCHR_NTSS_REQRE_TIME_ENG
		                         , VOCHR_USE_MTH_ENG
		                         , GUIDANCE_USE_TIME_ENG
		                         , GUIDANCE_REQRE_TIME_ENG
		                         , GUIDANCE_AGE_DIV_ENG
		                         , GUIDANCE_TOUR_SCHDUL_ENG
		                         , GUIDANCE_PRFPLC_LC_ENG
		                         , GUIDANCE_EDC_CRSE_ENG
		                         , GUIDANCE_OPTN_MATTER_ENG
		                         , GUIDANCE_PICKUP
		                         , GUIDANCE_PRPARETG_ENG
		                         , GUIDANCE_INCLS_MATTER_ENG
		                         , GUIDANCE_NOT_INCLS_MATTER
		                         , ADIT_GUIDANCE_ENG
		                         , ATENT_MATTER_ENG
		                         , CHANGE_REFND_REGLTN_ENG
		                         , INTRCN_GOODS_TY
		                         , INTRCN_USE_TIME_ENG
		                         , INTRCN_MEET_TIME
		                         , INTRCN_REQRE_TIME_ENG
		                         , INTRCN_PROVD_LANG_ENG
		                         , INTRCN_POSBL_AGE_ENG
		                         , INTRCN_PLACE_ENG
		                         , WRITNG_ID
		                         , WRITNG_DT ) 
		                  VALUES ( #GOODS_NM_ENG#
		                         , #GOODS_INTRCN_ENG#
		                         , #VOCHR_NTSS_REQRE_TIME_ENG#
		                         , #VOCHR_USE_MTH_ENG#
		                         , #GUIDANCE_USE_TIME_ENG#
		                         , #GUIDANCE_REQRE_TIME_ENG#
		                         , #GUIDANCE_AGE_DIV_ENG#
		                         , #GUIDANCE_TOUR_SCHDUL_ENG#
		                         , #GUIDANCE_PRFPLC_LC_ENG#
		                         , #GUIDANCE_EDC_CRSE_ENG#
		                         , #GUIDANCE_OPTN_MATTER_ENG#
		                         , #GUIDANCE_PICKUP#
		                         , #GUIDANCE_PRPARETG_ENG#
		                         , #GUIDANCE_INCLS_MATTER_ENG#
		                         , #GUIDANCE_NOT_INCLS_MATTER#
		                         , #ADIT_GUIDANCE_ENG#
		                         , #ATENT_MATTER_ENG#
		                         , #CHANGE_REFND_REGLTN_ENG#
		                         , #INTRCN_GOODS_TY#
		                         , #INTRCN_USE_TIME_ENG#
		                         , #INTRCN_MEET_TIME#
		                         , #INTRCN_REQRE_TIME_ENG#
		                         , #INTRCN_PROVD_LANG_ENG#
		                         , #INTRCN_POSBL_AGE_ENG#
		                         , #INTRCN_PLACE_ENG#
		                         , #WRITNG_ID#
		                         , SYSDATE );                            
    END; 
    ]]>
    </insert>

    <insert id="GoodsDAO.insertGoodsForBass" parameterClass="hashMap">
    <selectKey keyProperty="GOODS_CODE" resultClass="string">
        SELECT LPAD(SQ_GOODS_CODE.NEXTVAL, 10, '0') FROM DUAL
    </selectKey>
    <![CDATA[
    DECLARE
    BEGIN
        INSERT INTO TB_GOODS( GOODS_CODE
                            , GOODS_NM
                            , GOODS_INTRCN
                            , CL_CODE
                            , CTY_CODE
                            , WAIT_TIME
                            , MVMN_TIME
                            , FILE_CODE
                            , ACT_LA
                            , ACT_LO
                            , CL_SE
                            , SORT_ORDR
                            , MAIN_EXPSR_AT_1
                            , MAIN_EXPSR_AT_2
                            , VOCHR_TICKET_TY
                            , VOCHR_NTSS_REQRE_TIME
                            , VOCHR_USE_MTH
                            , INTRCN_GOODS_TY
                            , INTRCN_USE_TIME
                            , INTRCN_MEET_TIME
                            , INTRCN_REQRE_TIME
                            , INTRCN_PROVD_LANG
                            , INTRCN_POSBL_AGE
                            , INTRCN_PLACE
                            , DELETE_AT
                            , WRITNG_ID
                            , WRITNG_DT )
                      VALUES( #GOODS_CODE#
                            , #GOODS_NM#
                            , #GOODS_INTRCN:CLOB#
                            , #CL_CODE#
                            , #CTY_CODE#
                            , LPAD(#WAIT_HOUR#, 2, '0')||LPAD(#WAIT_MINUTE#, 2, '0')
                            , LPAD(#MVMN_HOUR#, 2, '0')||LPAD(#MVMN_MINUTE#, 2, '0')
                            , #FILE_CODE#
                            , #ACT_LA#
                            , #ACT_LO#
                            , #CL_SE#
                            , NVL(#SORT_ORDR#, (SELECT MAX(SORT_ORDR)+1 FROM TB_GOODS WHERE CL_CODE = #CL_CODE#))
                            , NVL(#MAIN_EXPSR_AT_1#, 'N')
                            , NVL(#MAIN_EXPSR_AT_2#, 'N')
                            , DECODE(#VOCHR_TICKET_TY#, '선택', '', #VOCHR_TICKET_TY#)
                            , #VOCHR_NTSS_REQRE_TIME#
                            , #VOCHR_USE_MTH#
                            , DECODE(#INTRCN_GOODS_TY#, '선택', '', #INTRCN_GOODS_TY#)
                            , #INTRCN_USE_TIME#
                            , #INTRCN_MEET_TIME#
                            , #INTRCN_REQRE_TIME#
                            , #INTRCN_PROVD_LANG#
                            , #INTRCN_POSBL_AGE#
                            , #INTRCN_PLACE#
                            , 'N'
                            , #WRITNG_ID#
                            , SYSDATE );

		INSERT INTO TB_GOODS_ENG( GOODS_CODE
                            , GOODS_NM_ENG
                            , GOODS_INTRCN_ENG
                            , VOCHR_NTSS_REQRE_TIME_ENG
                            , VOCHR_USE_MTH_ENG
                            , INTRCN_USE_TIME_ENG
                            , INTRCN_MEET_TIME_ENG
                            , INTRCN_REQRE_TIME_ENG
                            , INTRCN_PROVD_LANG_ENG
                            , INTRCN_POSBL_AGE_ENG
                            , INTRCN_PLACE_ENG
                            , WRITNG_ID
                            , WRITNG_DT )
                      VALUES( #GOODS_CODE#
                            , #GOODS_NM_ENG#
                            , #GOODS_INTRCN_ENG:CLOB#
                            , #VOCHR_NTSS_REQRE_TIME_ENG#
                            , #VOCHR_USE_MTH_ENG#
                            , #INTRCN_USE_TIME_ENG#
                            , #INTRCN_MEET_TIME_ENG#
                            , #INTRCN_REQRE_TIME_ENG#
                            , #INTRCN_PROVD_LANG_ENG#
                            , #INTRCN_POSBL_AGE_ENG#
                            , #INTRCN_PLACE_ENG#
                            , #WRITNG_ID#
                            , SYSDATE );                              
    END;
    ]]>
    </insert>

    <update id="GoodsDAO.updateGoods" parameterClass="hashMap">
    <![CDATA[
        UPDATE TB_GOODS
           SET GOODS_NM                  =  #GOODS_NM#
             , GOODS_INTRCN              =  #GOODS_INTRCN:CLOB#
             , WAIT_TIME                 =  #WAIT_HH#||#WAIT_MI#
             , MVMN_TIME                 =  #MVMN_HH#||#MVMN_MI#
             , DELETE_AT                 =  'N'
             , ACT_LA                    =  #ACT_LA#
             , ACT_LO                    =  #ACT_LO#
             , FILE_CODE                 =  #FILE_CODE#
             , VOCHR_TICKET_TY           =  #VOCHR_TICKET_TY#
             , VOCHR_NTSS_REQRE_TIME     =  #VOCHR_NTSS_REQRE_TIME#
             , VOCHR_USE_MTH             =  #VOCHR_USE_MTH#
             , GUIDANCE_USE_TIME         =  #GUIDANCE_USE_TIME#
             , GUIDANCE_REQRE_TIME       =  #GUIDANCE_REQRE_TIME#
             , GUIDANCE_AGE_DIV          =  #GUIDANCE_AGE_DIV#
             , GUIDANCE_TOUR_SCHDUL      =  #GUIDANCE_TOUR_SCHDUL#
             , GUIDANCE_PRFPLC_LC        =  #GUIDANCE_PRFPLC_LC#
             , GUIDANCE_EDC_CRSE         =  #GUIDANCE_EDC_CRSE#
             , GUIDANCE_OPTN_MATTER      =  #GUIDANCE_OPTN_MATTER#
             , GUIDANCE_PICKUP           =  #GUIDANCE_PICKUP#
             , GUIDANCE_PRPARETG         =  #GUIDANCE_PRPARETG#
             , GUIDANCE_INCLS_MATTER     =  #GUIDANCE_INCLS_MATTER#
             , GUIDANCE_NOT_INCLS_MATTER =  #GUIDANCE_NOT_INCLS_MATTER#
             , ADIT_GUIDANCE             =  #ADIT_GUIDANCE#
             , ATENT_MATTER              =  #ATENT_MATTER#
             , CHANGE_REFND_REGLTN       =  #CHANGE_REFND_REGLTN#
             , INTRCN_GOODS_TY           =  #INTRCN_GOODS_TY#
             , INTRCN_USE_TIME           =  #INTRCN_USE_TIME#
             , INTRCN_MEET_TIME          =  #INTRCN_MEET_TIME#
             , INTRCN_REQRE_TIME         =  #INTRCN_REQRE_TIME#
             , INTRCN_PROVD_LANG         =  #INTRCN_PROVD_LANG#
             , INTRCN_POSBL_AGE          =  #INTRCN_POSBL_AGE#
             , INTRCN_PLACE              =  #INTRCN_PLACE#
             , UPDT_ID                   =  #WRITNG_ID#
             , UPDT_DT                   =  SYSDATE
         WHERE GOODS_CODE = #GOODS_CODE#
    ]]>
    </update>

    <update id="GoodsDAO.updateGoodsForBass" parameterClass="hashMap">
    <![CDATA[
        UPDATE TB_GOODS
           SET UPDT_ID               = #UPDT_ID#
             , UPDT_DT               = SYSDATE
             , GOODS_NM              = #GOODS_NM#
             , CL_CODE               = #CL_CODE#
             , CTY_CODE              = #CTY_CODE#
             , GOODS_INTRCN          = #GOODS_INTRCN:CLOB#
             , WAIT_TIME             = LPAD(#WAIT_HOUR#, 2, '0')||LPAD(#WAIT_MINUTE#, 2, '0')
             , MVMN_TIME             = LPAD(#MVMN_HOUR#, 2, '0')||LPAD(#MVMN_MINUTE#, 2, '0')
             , ACT_LA                = #ACT_LA#
             , ACT_LO                = #ACT_LO#
             , CL_SE                 = #CL_SE#
             , SORT_ORDR             = #SORT_ORDR#
             , MAIN_EXPSR_AT_1       = NVL(#MAIN_EXPSR_AT_1#, 'N')
             , MAIN_EXPSR_AT_2       = NVL(#MAIN_EXPSR_AT_2#, 'N')
             , VOCHR_TICKET_TY       = DECODE(#VOCHR_TICKET_TY#, '선택', '', #VOCHR_TICKET_TY#)
             , VOCHR_NTSS_REQRE_TIME = #VOCHR_NTSS_REQRE_TIME#
             , VOCHR_USE_MTH         = #VOCHR_USE_MTH#
             , INTRCN_GOODS_TY       = DECODE(#INTRCN_GOODS_TY#, '선택', '', #INTRCN_GOODS_TY#)
             , INTRCN_USE_TIME       = #INTRCN_USE_TIME#
             , INTRCN_MEET_TIME      = #INTRCN_MEET_TIME#
             , INTRCN_REQRE_TIME     = #INTRCN_REQRE_TIME#
             , INTRCN_PROVD_LANG     = #INTRCN_PROVD_LANG#
             , INTRCN_POSBL_AGE      = #INTRCN_POSBL_AGE#
             , INTRCN_PLACE          = #INTRCN_PLACE#
         WHERE GOODS_CODE = #GOODS_CODE#
	]]>
    </update>
    
    <update id="GoodsDAO.updateGoodsEngForBass" parameterClass="hashMap">
    <![CDATA[
        UPDATE TB_GOODS_ENG
           SET UPDT_ID               = #UPDT_ID#
             , UPDT_DT               = SYSDATE
             , GOODS_NM_ENG              = #GOODS_NM_ENG#
             , GOODS_INTRCN_ENG          = #GOODS_INTRCN_ENG:CLOB#
             , VOCHR_NTSS_REQRE_TIME_ENG = #VOCHR_NTSS_REQRE_TIME_ENG#
             , VOCHR_USE_MTH_ENG         = #VOCHR_USE_MTH_ENG#
             , INTRCN_USE_TIME_ENG       = #INTRCN_USE_TIME_ENG#
             , INTRCN_MEET_TIME_ENG      = #INTRCN_MEET_TIME_ENG#
             , INTRCN_REQRE_TIME_ENG     = #INTRCN_REQRE_TIME_ENG#
             , INTRCN_PROVD_LANG_ENG     = #INTRCN_PROVD_LANG_ENG#
             , INTRCN_POSBL_AGE_ENG      = #INTRCN_POSBL_AGE_ENG#
             , INTRCN_PLACE_ENG          = #INTRCN_PLACE_ENG#
         WHERE GOODS_CODE = #GOODS_CODE#
	]]>
    </update>

    <update id="GoodsDAO.updateGoodsForGuidance" parameterClass="hashMap">
    <![CDATA[
        UPDATE TB_GOODS
           SET UPDT_ID                   = #UPDT_ID#
             , UPDT_DT                   = SYSDATE
             , GUIDANCE_USE_TIME         = #GUIDANCE_USE_TIME#
             , GUIDANCE_REQRE_TIME       = #GUIDANCE_REQRE_TIME#
             , GUIDANCE_AGE_DIV          = #GUIDANCE_AGE_DIV#
             , GUIDANCE_TOUR_SCHDUL      = #GUIDANCE_TOUR_SCHDUL#
             , GUIDANCE_PRFPLC_LC        = #GUIDANCE_PRFPLC_LC#
             , GUIDANCE_EDC_CRSE         = #GUIDANCE_EDC_CRSE#
             , GUIDANCE_OPTN_MATTER      = #GUIDANCE_OPTN_MATTER#
             , GUIDANCE_PICKUP           = #GUIDANCE_PICKUP#
             , GUIDANCE_PRPARETG         = #GUIDANCE_PRPARETG#
             , GUIDANCE_INCLS_MATTER     = #GUIDANCE_INCLS_MATTER#
             , GUIDANCE_NOT_INCLS_MATTER = #GUIDANCE_NOT_INCLS_MATTER#
         WHERE GOODS_CODE = #GOODS_CODE#
    ]]>
    </update>
    
    <update id="GoodsDAO.updateGoodsEngForGuidance" parameterClass="hashMap">
    <![CDATA[
        UPDATE TB_GOODS_ENG
           SET UPDT_ID                   = #UPDT_ID#
             , UPDT_DT                   = SYSDATE
             , GUIDANCE_USE_TIME_ENG         = #GUIDANCE_USE_TIME_ENG#
             , GUIDANCE_REQRE_TIME_ENG       = #GUIDANCE_REQRE_TIME_ENG#
             , GUIDANCE_AGE_DIV_ENG          = #GUIDANCE_AGE_DIV_ENG#
             , GUIDANCE_TOUR_SCHDUL_ENG      = #GUIDANCE_TOUR_SCHDUL_ENG#
             , GUIDANCE_PRFPLC_LC_ENG        = #GUIDANCE_PRFPLC_LC_ENG#
             , GUIDANCE_EDC_CRSE_ENG         = #GUIDANCE_EDC_CRSE_ENG#
             , GUIDANCE_OPTN_MATTER_ENG      = #GUIDANCE_OPTN_MATTER_ENG#
             , GUIDANCE_PICKUP_ENG           = #GUIDANCE_PICKUP_ENG#
             , GUIDANCE_PRPARETG_ENG         = #GUIDANCE_PRPARETG_ENG#
             , GUIDANCE_INCLS_MATTER_ENG     = #GUIDANCE_INCLS_MATTER_ENG#
             , GUIDANCE_NOT_INCLS_MATTER_ENG = #GUIDANCE_NOT_INCLS_MATTER_ENG#
         WHERE GOODS_CODE = #GOODS_CODE#
    ]]>
    </update>    

    <update id="GoodsDAO.updateGoodsForEtc" parameterClass="hashMap">
    <![CDATA[
        UPDATE TB_GOODS
           SET UPDT_ID             = #UPDT_ID#
             , UPDT_DT             = SYSDATE
             , ADIT_GUIDANCE       = #ADIT_GUIDANCE#
             , ATENT_MATTER        = #ATENT_MATTER#
             , CHANGE_REFND_REGLTN = #CHANGE_REFND_REGLTN#
         WHERE GOODS_CODE = #GOODS_CODE#
    ]]>
    </update>

    <update id="GoodsDAO.updateGoodsEngForEtc" parameterClass="hashMap">
    <![CDATA[
        UPDATE TB_GOODS_ENG
           SET UPDT_ID             = #UPDT_ID#
             , UPDT_DT             = SYSDATE
             , ADIT_GUIDANCE_ENG       = #ADIT_GUIDANCE_ENG#
             , ATENT_MATTER_ENG        = #ATENT_MATTER_ENG#
             , CHANGE_REFND_REGLTN_ENG = #CHANGE_REFND_REGLTN_ENG#
         WHERE GOODS_CODE = #GOODS_CODE#
    ]]>
    </update>

    <delete id="GoodsDAO.deleteGoods" parameterClass="hashMap">
    <![CDATA[
        UPDATE TB_GOODS
           SET DELETE_AT = 'Y'
             , UPDT_ID = #UPDT_ID#
             , UPDT_DT = SYSDATE
         WHERE DELETE_AT = 'N'
           AND GOODS_CODE = #GOODS_CODE#
    ]]>
    </delete>
    
    <delete id="GoodsDAO.deleteGoodsMulti" parameterClass="hashMap">
    <![CDATA[
        UPDATE TB_GOODS
           SET DELETE_AT = 'Y'
             , UPDT_ID = #UPDT_ID#
             , UPDT_DT = SYSDATE
         WHERE DELETE_AT = 'N' ]]>
           AND GOODS_CODE IN <iterate property="GOODS_CODE_LIST" open="(" close=")" conjunction=",">#GOODS_CODE_LIST[]#</iterate>
    </delete>

    <sql id="sqlGoodsInfo">
    <![CDATA[
        SELECT A.GOODS_CODE
             , A.GOODS_NM
             , A.GOODS_INTRCN
             , A.DELETE_AT
             , DECODE(A.DELETE_AT, 'N', 'Y', 'N') USE_AT
             , A.FILE_CODE
             , A.WRITNG_ID
             , TO_CHAR(A.WRITNG_DT,'YYYY-MM-DD') WRITNG_DE
             , A.UPDT_ID
             , TO_CHAR(A.UPDT_DT,'YYYY-MM-DD') UPDT_DE
             , A.WAIT_TIME
             , A.MVMN_TIME
             , A.ACT_LA
             , A.ACT_LO
             , (SELECT UPPER_CL_CODE FROM TB_TOUR_CL X WHERE X.CL_CODE = A.CL_CODE) UPPER_CL_CODE
             , A.CL_CODE
             , (SELECT C.CL_NM FROM TB_TOUR_CL C WHERE A.CL_CODE = C.CL_CODE) CL_NM
             , (SELECT NATION_CODE FROM TB_CTY X WHERE X.CTY_CODE = A.CTY_CODE) NATION_CODE
             , A.CTY_CODE
             , (SELECT C.CTY_NM FROM TB_CTY C WHERE A.CTY_CODE = C.CTY_CODE) CTY_NM             
             , A.CL_SE
             , A.SORT_ORDR
             , A.MAIN_EXPSR_AT_1
             , A.MAIN_EXPSR_AT_2
             , A.VOCHR_TICKET_TY
             , A.VOCHR_NTSS_REQRE_TIME
             , A.VOCHR_USE_MTH
             , A.GUIDANCE_USE_TIME
             , A.GUIDANCE_REQRE_TIME
             , A.GUIDANCE_AGE_DIV
             , A.GUIDANCE_TOUR_SCHDUL
             , A.GUIDANCE_PRFPLC_LC
             , A.GUIDANCE_EDC_CRSE
             , A.GUIDANCE_OPTN_MATTER
             , A.GUIDANCE_PICKUP
             , A.GUIDANCE_PRPARETG
             , A.GUIDANCE_INCLS_MATTER
             , A.GUIDANCE_NOT_INCLS_MATTER
             , A.ADIT_GUIDANCE
             , A.ATENT_MATTER
             , A.CHANGE_REFND_REGLTN
             , A.INTRCN_GOODS_TY
             , A.INTRCN_USE_TIME
             , A.INTRCN_MEET_TIME
             , A.INTRCN_REQRE_TIME
             , A.INTRCN_PROVD_LANG
             , A.INTRCN_POSBL_AGE
             , A.INTRCN_PLACE
             , 'U' CRUD_SE
             , B.GOODS_NM_ENG
             , B.GOODS_INTRCN_ENG
             , B.VOCHR_NTSS_REQRE_TIME_ENG
             , B.VOCHR_USE_MTH_ENG
             , B.GUIDANCE_USE_TIME_ENG
             , B.GUIDANCE_REQRE_TIME_ENG
             , B.GUIDANCE_AGE_DIV_ENG
             , B.GUIDANCE_TOUR_SCHDUL_ENG
             , B.GUIDANCE_PRFPLC_LC_ENG
             , B.GUIDANCE_EDC_CRSE_ENG
             , B.GUIDANCE_OPTN_MATTER_ENG
             , B.GUIDANCE_PICKUP_ENG
             , B.GUIDANCE_PRPARETG_ENG
             , B.GUIDANCE_INCLS_MATTER_ENG
             , B.GUIDANCE_NOT_INCLS_MATTER_ENG
             , B.ADIT_GUIDANCE_ENG
             , B.ATENT_MATTER_ENG
             , B.CHANGE_REFND_REGLTN_ENG
             , B.INTRCN_USE_TIME_ENG
             , B.INTRCN_MEET_TIME_ENG
             , B.INTRCN_REQRE_TIME_ENG
             , B.INTRCN_PROVD_LANG_ENG
             , B.INTRCN_POSBL_AGE_ENG
             , B.INTRCN_PLACE_ENG             
          FROM TB_GOODS A
             , TB_GOODS_ENG B
         WHERE A.GOODS_CODE = B.GOODS_CODE(+)
    ]]>
    </sql>

    <select id="GoodsDAO.selectGoodsByPk" parameterClass="hashMap" resultMap="rmGoods">
    <include refid="sqlGoodsInfo"/>
           AND A.GOODS_CODE = #GOODS_CODE#
    </select>

    <select id="GoodsDAO.selectGoodsList" parameterClass="hashMap" resultMap="rmGoods">
    <include refid="sqlGoodsInfo"/>
        <isNotEmpty property="DELETE_AT">
           AND A.DELETE_AT = #DELETE_AT#
        </isNotEmpty>
         ORDER BY A.WRITNG_DT, A.GOODS_CODE
    </select>

    <select id="GoodsDAO.selectGoodsListForSearch" parameterClass="hashMap" resultClass="hashMap">
    <![CDATA[
        SELECT GOODS_CODE
             , GOODS_NM
             , CL_CODE
             , (SELECT CL_NM FROM TB_TOUR_CL X WHERE X.CL_CODE = A.CL_CODE AND X.UPPER_CL_CODE <> '00000') CL_NM
             , (SELECT X.CL_NM FROM TB_TOUR_CL X WHERE X.UPPER_CL_CODE = '00000' START WITH X.CL_CODE = A.CL_CODE CONNECT BY PRIOR X.UPPER_CL_CODE = X.CL_CODE) UPPER_CL_NM
             , CTY_CODE
             , (SELECT X.CTY_NM FROM TB_CTY X WHERE X.CTY_CODE = A.CTY_CODE AND X.NATION_CODE <> '00000') CTY_NM             
             , CL_SE
             , SORT_ORDR
             , FILE_CODE
             , DELETE_AT
             , DECODE(DELETE_AT, 'N', 'Y', 'N') USE_AT 
             , TO_CHAR(WRITNG_DT, 'YYYY-MM-DD') WRITNG_DE
             , TO_CHAR(UPDT_DT, 'YYYY-MM-DD') UPDT_DE
             , (SELECT COUNT(1) FROM TB_FILE_DETAIL X WHERE A.FILE_CODE = X.FILE_CODE) CF_FILE_CNT
          FROM TB_GOODS A
         WHERE 1 = 1 ]]>
        <isNotEmpty property="DELETE_AT">
           AND DELETE_AT = #DELETE_AT#        
        </isNotEmpty>
        <isNotEmpty property="CTY_CODE">
           AND CTY_CODE = #CTY_CODE#
        </isNotEmpty>
        <isNotEmpty property="CL_CODE">
           AND CL_CODE = #CL_CODE#
        </isNotEmpty>
        <isEmpty property="CL_CODE"><isNotEmpty property="UPPER_CL_CODE">
           AND CL_CODE IN (SELECT CL_CODE FROM TB_TOUR_CL
                            WHERE UPPER_CL_CODE = #UPPER_CL_CODE#)
        </isNotEmpty></isEmpty>
         ORDER BY SORT_ORDR
    </select>

</sqlMap>