<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="query">
	<typeAlias alias="hashMap" type="java.util.HashMap"/>
	<typeAlias alias="string" type="java.lang.String"/>

	<insert id="GoodsDAO.insertGoods" parameterClass="hashMap">
	<![CDATA[
		INSERT INTO TB_TOUR_CL( CL_CODE
							  , CL_NM
							  , DELETE_AT
							  , WRITNG_ID
							  , WRITNG_DE 
							  , FILE_CODE )
					    VALUES( LPAD(SQ_CL_CODE.NEXTVAL, 5, '0')
						      , #CL_NM#
							  , 'N'
							  , #WRITNG_ID#
							  , TO_CHAR(SYSDATE, 'YYYYMMDD')
							  , #FILE_CODE# )
	]]>
	</insert>

	<update id="GoodsDAO.updateGoods" parameterClass="hashMap">
	<![CDATA[
		UPDATE TB_TOUR_CL
		   SET CL_NM = #CL_NM#
		     , FILE_CODE = #FILE_CODE#
		     , UPDT_ID = #UPDT_ID#
		     , UPDT_DE = TO_CHAR(SYSDATE, 'YYYYMMDD')
		 WHERE CL_CODE = #CL_CODE#
	]]>
	</update>

	<delete id="GoodsDAO.deleteGoods" parameterClass="hashMap">
	<![CDATA[
		UPDATE TB_TOUR_CL
		   SET DELETE_AT = 'Y'
		     , UPDT_ID = #UPDT_ID#
		     , UPDT_DE = TO_CHAR(SYSDATE, 'YYYYMMDD')
		 WHERE CL_CODE = #CL_CODE#
	]]>
	</delete>
	
	<select id="GoodsDAO.selectGoodsByPk" parameterClass="hashMap" resultClass="hashMap">
	<![CDATA[
		SELECT CL_CODE
			 , CL_NM 
			 , DELETE_AT
			 , WRITNG_ID
			 , WRITNG_DE
			 , UPDT_ID
			 , UPDT_DE
			 , FILE_CODE  
		  FROM TB_TOUR_CL   
		 WHERE CL_CODE = #CL_CODE#	  
	]]>
	</select>

	<select id="GoodsDAO.selectGoodsList" parameterClass="hashMap" resultClass="hashMap">
	<![CDATA[
		SELECT GOODS_CODE
		     , GOODS_NM
		     , GOODS_INTRCN
		     , DELETE_AT
		     , WRITNG_ID
		     , WRITNG_DE
		     , UPDT_ID
		     , UPDT_DE
		     , FILE_CODE
		  FROM TB_GOODS  
		 WHERE 1 = 1	]]>
		<isNotEmpty property="DELETE_AT">
		  AND DELETE_AT = #DELETE_AT#		
		</isNotEmpty>
		 ORDER BY WRITNG_DE, GOODS_CODE
	</select>

</sqlMap>