<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="admin">
	<typeAlias alias="hashMap" type="java.util.HashMap"/>
	<typeAlias alias="string" type="java.lang.String"/>

	<resultMap id="rmMenuTree" class="java.util.HashMap">
		<result property="id"   column="MENU_CODE" javaType="java.lang.String" />
		<result property="text" column="MENU_NM"   javaType="java.lang.String" />
		<result property="leaf" column="MENU_LEAF" javaType="java.lang.String" />
		<result property="url"  column="MENU_URL"  javaType="java.lang.String" />
	</resultMap>
	
	<select id="AdminDAO.selectMenuTree" parameterClass="hashMap" resultMap="rmMenuTree">
	<![CDATA[
		SELECT MENU_CODE
		     , MENU_NM
		     , MENU_URL
		     , DECODE(MENU_URL, '', 'false', 'true') MENU_LEAF
		  FROM TB_MENU
		 WHERE USE_AT = 'Y'
           AND UPPER_MENU_CODE = #node#	 
		 ORDER BY SORT_ORDR
	]]>
	</select>

  
</sqlMap>